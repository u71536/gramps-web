# Инструкция по обновлению форка из архива

## Шаг 1: Сохраните текущие изменения

У вас есть незакоммиченные изменения. Сначала их нужно сохранить:

```bash
# Вариант 1: Закоммитить изменения
git add .
git commit -m "Мои локальные изменения перед обновлением"

# Вариант 2: Временно сохранить в stash (если не готовы коммитить)
git stash save "Мои изменения перед обновлением"
```

## Шаг 2: Подготовьте архив основного проекта

1. Распакуйте архив основного проекта в отдельную папку (например, `D:\Projects\gramps-web-upstream`)
2. Убедитесь, что в распакованной папке есть папка `.git` (это должен быть Git репозиторий)

## Шаг 3: Добавьте архив как upstream remote

```bash
# Добавьте распакованный архив как remote
git remote add upstream D:\Projects\gramps-web-upstream

# Или если архив находится в другом месте, укажите полный путь
# git remote add upstream /путь/к/распакованному/архиву
```

## Шаг 4: Получите изменения из upstream

```bash
# Получите все ветки и коммиты из upstream
git fetch upstream

# Посмотрите, какие ветки доступны
git branch -r
```

## Шаг 5: Обновите вашу ветку main

```bash
# Переключитесь на вашу ветку main (если еще не на ней)
git checkout main

# Объедините изменения из upstream/main в вашу ветку
git merge upstream/main

# Если возникнут конфликты, разрешите их вручную
# После разрешения конфликтов:
# git add .
# git commit -m "Объединение с upstream/main"
```

## Альтернативный способ: через rebase (более чистая история)

```bash
# Вместо merge можно использовать rebase
git rebase upstream/main

# Если будут конфликты, разрешите их и продолжите:
# git add .
# git rebase --continue
```

## Шаг 6: Отправьте обновления в ваш форк на GitHub

```bash
# Отправьте обновленную ветку в ваш форк
git push origin main

# Если использовали rebase, может потребоваться force push:
# git push --force-with-lease origin main
```

## Шаг 7: Восстановите ваши изменения (если использовали stash)

```bash
# Если вы использовали stash, восстановите изменения:
git stash pop
```

## Если архив не является Git репозиторием

Если архив не содержит папку `.git`, можно использовать другой подход:

1. Скопируйте файлы из архива в отдельную папку
2. Инициализируйте там Git репозиторий:
   ```bash
   cd D:\Projects\gramps-web-upstream
   git init
   git add .
   git commit -m "Исходное состояние upstream"
   ```
3. Затем следуйте шагам 3-6 выше

## Разрешение конфликтов

Если при merge/rebase возникнут конфликты:

1. Git покажет файлы с конфликтами
2. Откройте эти файлы и найдите маркеры конфликтов:
   ```
   <<<<<<< HEAD
   ваш код
   =======
   код из upstream
   >>>>>>> upstream/main
   ```
3. Решите, какой код оставить или объедините оба варианта
4. Удалите маркеры конфликтов
5. Выполните `git add <файл>` для каждого разрешенного файла
6. Продолжите merge/rebase


